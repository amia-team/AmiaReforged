// <auto-generated />
using System;
using AmiaReforged.PwEngine.Database;
using Microsoft.EntityFrameworkCore;
using Microsoft.EntityFrameworkCore.Infrastructure;
using Microsoft.EntityFrameworkCore.Migrations;
using Microsoft.EntityFrameworkCore.Storage.ValueConversion;
using Npgsql.EntityFrameworkCore.PostgreSQL.Metadata;

#nullable disable

namespace AmiaReforged.PwEngine.Migrations
{
    [DbContext(typeof(PwEngineContext))]
    [Migration("20260223190609_AddSpawnpresets")]
    partial class AddSpawnpresets
    {
        /// <inheritdoc />
        protected override void BuildTargetModel(ModelBuilder modelBuilder)
        {
#pragma warning disable 612, 618
            modelBuilder
                .HasAnnotation("ProductVersion", "8.0.15")
                .HasAnnotation("Relational:MaxIdentifierLength", 63);

            NpgsqlModelBuilderExtensions.UseIdentityByDefaultColumns(modelBuilder);

            modelBuilder.Entity("AmiaReforged.PwEngine.Database.Entities.Admin.CharacterRebuild", b =>
                {
                    b.Property<int>("Id")
                        .ValueGeneratedOnAdd()
                        .HasColumnType("integer")
                        .HasColumnName("id");

                    NpgsqlPropertyBuilderExtensions.UseIdentityByDefaultColumn(b.Property<int>("Id"));

                    b.Property<Guid>("CharacterId")
                        .HasColumnType("uuid")
                        .HasColumnName("character_id");

                    b.Property<DateTime>("CompletedUtc")
                        .HasColumnType("timestamp with time zone")
                        .HasColumnName("completed_utc");

                    b.Property<string>("OriginalFirstName")
                        .HasColumnType("text");

                    b.Property<string>("OriginalLastName")
                        .HasColumnType("text");

                    b.Property<byte[]>("PcKeyData")
                        .HasColumnType("bytea");

                    b.Property<string>("PlayerCdKey")
                        .IsRequired()
                        .HasMaxLength(64)
                        .HasColumnType("character varying(64)")
                        .HasColumnName("player_cd_key");

                    b.Property<DateTime>("RequestedUtc")
                        .ValueGeneratedOnAdd()
                        .HasColumnType("timestamp with time zone")
                        .HasColumnName("requested_utc")
                        .HasDefaultValueSql("CURRENT_TIMESTAMP");

                    b.Property<int>("StoredGold")
                        .HasColumnType("integer");

                    b.Property<int>("StoredXp")
                        .HasColumnType("integer");

                    b.HasKey("Id")
                        .HasName("character_rebuilds_pkey");

                    b.HasIndex("CharacterId")
                        .HasDatabaseName("character_rebuilds_character_id_idx");

                    b.HasIndex("PlayerCdKey")
                        .HasDatabaseName("character_rebuilds_player_cd_key_idx");

                    b.ToTable("character_rebuilds", (string)null);
                });

            modelBuilder.Entity("AmiaReforged.PwEngine.Database.Entities.Admin.DreamcoinRental", b =>
                {
                    b.Property<int>("Id")
                        .ValueGeneratedOnAdd()
                        .HasColumnType("integer")
                        .HasColumnName("id");

                    NpgsqlPropertyBuilderExtensions.UseIdentityByDefaultColumn(b.Property<int>("Id"));

                    b.Property<string>("CreatedByDmCdKey")
                        .HasMaxLength(64)
                        .HasColumnType("character varying(64)")
                        .HasColumnName("created_by_dm_cd_key");

                    b.Property<DateTime>("CreatedUtc")
                        .ValueGeneratedOnAdd()
                        .HasColumnType("timestamp with time zone")
                        .HasColumnName("created_utc")
                        .HasDefaultValueSql("CURRENT_TIMESTAMP");

                    b.Property<string>("Description")
                        .HasMaxLength(500)
                        .HasColumnType("character varying(500)")
                        .HasColumnName("description");

                    b.Property<bool>("IsActive")
                        .ValueGeneratedOnAdd()
                        .HasColumnType("boolean")
                        .HasDefaultValue(true)
                        .HasColumnName("is_active");

                    b.Property<bool>("IsDelinquent")
                        .ValueGeneratedOnAdd()
                        .HasColumnType("boolean")
                        .HasDefaultValue(false)
                        .HasColumnName("is_delinquent");

                    b.Property<DateTime?>("LastPaymentUtc")
                        .HasColumnType("timestamp with time zone")
                        .HasColumnName("last_payment_utc");

                    b.Property<int>("MonthlyCost")
                        .HasColumnType("integer")
                        .HasColumnName("monthly_cost");

                    b.Property<DateTime>("NextDueDateUtc")
                        .HasColumnType("timestamp with time zone")
                        .HasColumnName("next_due_date_utc");

                    b.Property<string>("PlayerCdKey")
                        .IsRequired()
                        .HasMaxLength(64)
                        .HasColumnType("character varying(64)")
                        .HasColumnName("player_cd_key");

                    b.HasKey("Id")
                        .HasName("dreamcoin_rentals_pkey");

                    b.HasIndex("IsActive")
                        .HasDatabaseName("dreamcoin_rentals_is_active_idx");

                    b.HasIndex("IsDelinquent")
                        .HasDatabaseName("dreamcoin_rentals_is_delinquent_idx");

                    b.HasIndex("NextDueDateUtc")
                        .HasDatabaseName("dreamcoin_rentals_next_due_date_idx");

                    b.HasIndex("PlayerCdKey")
                        .HasDatabaseName("dreamcoin_rentals_player_cd_key_idx");

                    b.ToTable("dreamcoin_rentals", (string)null);
                });

            modelBuilder.Entity("AmiaReforged.PwEngine.Database.Entities.Admin.RebuildItemRecord", b =>
                {
                    b.Property<long>("Id")
                        .ValueGeneratedOnAdd()
                        .HasColumnType("bigint")
                        .HasColumnName("id");

                    NpgsqlPropertyBuilderExtensions.UseIdentityByDefaultColumn(b.Property<long>("Id"));

                    b.Property<int>("CharacterRebuildId")
                        .HasColumnType("integer")
                        .HasColumnName("character_rebuild_id");

                    b.Property<byte[]>("ItemData")
                        .IsRequired()
                        .HasColumnType("bytea")
                        .HasColumnName("item_data");

                    b.HasKey("Id")
                        .HasName("rebuild_item_records_pkey");

                    b.HasIndex("CharacterRebuildId")
                        .HasDatabaseName("rebuild_item_records_character_rebuild_id_idx");

                    b.ToTable("rebuild_item_records", (string)null);
                });

            modelBuilder.Entity("AmiaReforged.PwEngine.Database.Entities.Economy.PersistentCharacterKnowledge", b =>
                {
                    b.Property<Guid>("Id")
                        .ValueGeneratedOnAdd()
                        .HasColumnType("uuid");

                    b.Property<Guid>("CharacterId")
                        .HasColumnType("uuid");

                    b.Property<string>("IndustryTag")
                        .IsRequired()
                        .HasColumnType("text");

                    b.Property<string>("KnowledgeTag")
                        .IsRequired()
                        .HasColumnType("text");

                    b.Property<Guid?>("PersistentIndustryMembershipId")
                        .HasColumnType("uuid");

                    b.HasKey("Id");

                    b.HasIndex("CharacterId");

                    b.HasIndex("PersistentIndustryMembershipId");

                    b.ToTable("CharacterKnowledge");
                });

            modelBuilder.Entity("AmiaReforged.PwEngine.Database.Entities.Economy.PersistentIndustryMembership", b =>
                {
                    b.Property<Guid>("Id")
                        .ValueGeneratedOnAdd()
                        .HasColumnType("uuid");

                    b.Property<Guid>("CharacterId")
                        .HasColumnType("uuid");

                    b.Property<string>("IndustryTag")
                        .IsRequired()
                        .HasColumnType("text");

                    b.Property<int>("Level")
                        .HasColumnType("integer");

                    b.HasKey("Id");

                    b.HasIndex("CharacterId");

                    b.ToTable("IndustryMemberships");
                });

            modelBuilder.Entity("AmiaReforged.PwEngine.Database.Entities.Economy.Properties.RentablePropertyRecord", b =>
                {
                    b.Property<Guid>("Id")
                        .ValueGeneratedOnAdd()
                        .HasColumnType("uuid")
                        .HasColumnName("id");

                    b.Property<bool>("AllowsCoinhouseRental")
                        .HasColumnType("boolean")
                        .HasColumnName("allows_coinhouse_rental");

                    b.Property<bool>("AllowsDirectRental")
                        .HasColumnType("boolean")
                        .HasColumnName("allows_direct_rental");

                    b.Property<int>("Category")
                        .HasColumnType("integer")
                        .HasColumnName("category");

                    b.Property<string>("CurrentOwnerPersona")
                        .HasMaxLength(256)
                        .HasColumnType("character varying(256)")
                        .HasColumnName("current_owner_persona");

                    b.Property<string>("CurrentTenantPersona")
                        .HasMaxLength(256)
                        .HasColumnType("character varying(256)")
                        .HasColumnName("current_tenant_persona");

                    b.Property<string>("DefaultOwnerPersona")
                        .HasMaxLength(256)
                        .HasColumnType("character varying(256)")
                        .HasColumnName("default_owner_persona");

                    b.Property<int>("EvictionGraceDays")
                        .HasColumnType("integer")
                        .HasColumnName("eviction_grace_days");

                    b.Property<string>("InternalName")
                        .IsRequired()
                        .HasMaxLength(128)
                        .HasColumnType("character varying(128)")
                        .HasColumnName("internal_name");

                    b.Property<DateTimeOffset?>("LastOccupantSeenUtc")
                        .HasColumnType("timestamp with time zone")
                        .HasColumnName("last_occupant_seen_utc");

                    b.Property<int?>("MonthlyOwnershipTax")
                        .HasColumnType("integer")
                        .HasColumnName("monthly_ownership_tax");

                    b.Property<int>("MonthlyRent")
                        .HasColumnType("integer")
                        .HasColumnName("monthly_rent");

                    b.Property<DateOnly?>("NextPaymentDueDate")
                        .HasColumnType("date")
                        .HasColumnName("next_payment_due_date");

                    b.Property<int>("OccupancyStatus")
                        .HasColumnType("integer")
                        .HasColumnName("occupancy_status");

                    b.Property<int?>("PurchasePrice")
                        .HasColumnType("integer")
                        .HasColumnName("purchase_price");

                    b.Property<int?>("RentalMonthlyRent")
                        .HasColumnType("integer")
                        .HasColumnName("rental_monthly_rent");

                    b.Property<int?>("RentalPaymentMethod")
                        .HasColumnType("integer")
                        .HasColumnName("rental_payment_method");

                    b.Property<DateOnly?>("RentalStartDate")
                        .HasColumnType("date")
                        .HasColumnName("rental_start_date");

                    b.Property<string>("SettlementCoinhouseTag")
                        .HasMaxLength(128)
                        .HasColumnType("character varying(128)")
                        .HasColumnName("settlement_coinhouse_tag");

                    b.Property<string>("SettlementTag")
                        .IsRequired()
                        .HasMaxLength(128)
                        .HasColumnType("character varying(128)")
                        .HasColumnName("settlement_tag");

                    b.HasKey("Id");

                    b.HasIndex("InternalName")
                        .HasDatabaseName("rentable_properties_internal_name_idx");

                    b.HasIndex("SettlementTag")
                        .HasDatabaseName("rentable_properties_settlement_idx");

                    b.ToTable("rentable_properties", (string)null);
                });

            modelBuilder.Entity("AmiaReforged.PwEngine.Database.Entities.Economy.Properties.RentablePropertyResidentRecord", b =>
                {
                    b.Property<long>("Id")
                        .ValueGeneratedOnAdd()
                        .HasColumnType("bigint")
                        .HasColumnName("id");

                    NpgsqlPropertyBuilderExtensions.UseIdentityByDefaultColumn(b.Property<long>("Id"));

                    b.Property<string>("Persona")
                        .IsRequired()
                        .HasMaxLength(256)
                        .HasColumnType("character varying(256)")
                        .HasColumnName("persona");

                    b.Property<Guid>("PropertyId")
                        .HasColumnType("uuid")
                        .HasColumnName("property_id");

                    b.HasKey("Id");

                    b.HasIndex("PropertyId", "Persona")
                        .IsUnique()
                        .HasDatabaseName("rentable_property_residents_property_persona_idx");

                    b.ToTable("rentable_property_residents", (string)null);
                });

            modelBuilder.Entity("AmiaReforged.PwEngine.Database.Entities.Economy.Shops.PlayerStall", b =>
                {
                    b.Property<long>("Id")
                        .ValueGeneratedOnAdd()
                        .HasColumnType("bigint");

                    NpgsqlPropertyBuilderExtensions.UseIdentityByDefaultColumn(b.Property<long>("Id"));

                    b.Property<string>("AreaResRef")
                        .IsRequired()
                        .HasMaxLength(64)
                        .HasColumnType("character varying(64)")
                        .HasColumnName("area_resref");

                    b.Property<Guid?>("CoinHouseAccountId")
                        .HasColumnType("uuid")
                        .HasColumnName("coinhouse_account_id");

                    b.Property<DateTime>("CreatedUtc")
                        .ValueGeneratedOnAdd()
                        .HasColumnType("timestamp with time zone")
                        .HasColumnName("created_utc")
                        .HasDefaultValueSql("CURRENT_TIMESTAMP");

                    b.Property<int>("CurrentTenureGrossSales")
                        .HasColumnType("integer");

                    b.Property<int>("CurrentTenureNetEarnings")
                        .HasColumnType("integer");

                    b.Property<string>("CustomDisplayName")
                        .HasMaxLength(255)
                        .HasColumnType("character varying(255)")
                        .HasColumnName("custom_display_name");

                    b.Property<int>("DailyRent")
                        .ValueGeneratedOnAdd()
                        .HasColumnType("integer")
                        .HasDefaultValue(10000)
                        .HasColumnName("daily_rent");

                    b.Property<DateTime?>("DeactivatedUtc")
                        .HasColumnType("timestamp with time zone")
                        .HasColumnName("deactivated_utc");

                    b.Property<int>("EscrowBalance")
                        .HasColumnType("integer")
                        .HasColumnName("escrow_balance");

                    b.Property<bool>("HoldEarningsInStall")
                        .ValueGeneratedOnAdd()
                        .HasColumnType("boolean")
                        .HasDefaultValue(false)
                        .HasColumnName("hold_earnings_in_stall");

                    b.Property<bool>("IsActive")
                        .ValueGeneratedOnAdd()
                        .HasColumnType("boolean")
                        .HasDefaultValue(true)
                        .HasColumnName("is_active");

                    b.Property<DateTime?>("LastRentPaidUtc")
                        .HasColumnType("timestamp with time zone")
                        .HasColumnName("last_rent_paid_utc");

                    b.Property<DateTime>("LeaseStartUtc")
                        .HasColumnType("timestamp with time zone")
                        .HasColumnName("lease_start_utc");

                    b.Property<int>("LifetimeGrossSales")
                        .HasColumnType("integer")
                        .HasColumnName("lifetime_gross_sales");

                    b.Property<int>("LifetimeNetEarnings")
                        .HasColumnType("integer")
                        .HasColumnName("lifetime_net_earnings");

                    b.Property<DateTime>("NextRentDueUtc")
                        .HasColumnType("timestamp with time zone")
                        .HasColumnName("next_rent_due_utc");

                    b.Property<Guid?>("OwnerCharacterId")
                        .HasColumnType("uuid")
                        .HasColumnName("owner_character_id");

                    b.Property<string>("OwnerDisplayName")
                        .HasMaxLength(255)
                        .HasColumnType("character varying(255)")
                        .HasColumnName("owner_display_name");

                    b.Property<string>("OwnerPersonaId")
                        .HasMaxLength(256)
                        .HasColumnType("character varying(256)")
                        .HasColumnName("owner_persona_id");

                    b.Property<string>("OwnerPlayerPersonaId")
                        .HasMaxLength(256)
                        .HasColumnType("character varying(256)")
                        .HasColumnName("owner_player_persona_id");

                    b.Property<string>("SettlementTag")
                        .HasMaxLength(128)
                        .HasColumnType("character varying(128)")
                        .HasColumnName("settlement_tag");

                    b.Property<DateTime?>("SuspendedUtc")
                        .HasColumnType("timestamp with time zone")
                        .HasColumnName("suspended_utc");

                    b.Property<string>("Tag")
                        .IsRequired()
                        .HasMaxLength(255)
                        .HasColumnType("character varying(255)")
                        .HasColumnName("stall_tag");

                    b.Property<DateTime>("UpdatedUtc")
                        .ValueGeneratedOnAdd()
                        .HasColumnType("timestamp with time zone")
                        .HasColumnName("updated_utc")
                        .HasDefaultValueSql("CURRENT_TIMESTAMP");

                    b.HasKey("Id");

                    b.HasIndex("CoinHouseAccountId");

                    b.HasIndex("Tag")
                        .IsUnique()
                        .HasDatabaseName("player_stalls_tag_idx");

                    b.HasIndex("OwnerPersonaId", "AreaResRef")
                        .IsUnique()
                        .HasDatabaseName("player_stalls_owner_area_idx")
                        .HasFilter("owner_persona_id IS NOT NULL");

                    b.HasIndex("OwnerPlayerPersonaId", "AreaResRef")
                        .IsUnique()
                        .HasDatabaseName("player_stalls_owner_player_area_idx")
                        .HasFilter("owner_player_persona_id IS NOT NULL");

                    b.ToTable("player_stalls", (string)null);
                });

            modelBuilder.Entity("AmiaReforged.PwEngine.Database.Entities.Economy.Shops.PlayerStallLedgerEntry", b =>
                {
                    b.Property<long>("Id")
                        .ValueGeneratedOnAdd()
                        .HasColumnType("bigint");

                    NpgsqlPropertyBuilderExtensions.UseIdentityByDefaultColumn(b.Property<long>("Id"));

                    b.Property<int>("Amount")
                        .HasColumnType("integer")
                        .HasColumnName("amount");

                    b.Property<string>("Currency")
                        .IsRequired()
                        .ValueGeneratedOnAdd()
                        .HasMaxLength(16)
                        .HasColumnType("character varying(16)")
                        .HasDefaultValue("gp")
                        .HasColumnName("currency");

                    b.Property<string>("Description")
                        .HasMaxLength(512)
                        .HasColumnType("character varying(512)")
                        .HasColumnName("description");

                    b.Property<int>("EntryType")
                        .HasColumnType("integer")
                        .HasColumnName("entry_type");

                    b.Property<string>("MetadataJson")
                        .HasColumnType("text")
                        .HasColumnName("metadata_json");

                    b.Property<DateTime>("OccurredUtc")
                        .ValueGeneratedOnAdd()
                        .HasColumnType("timestamp with time zone")
                        .HasColumnName("occurred_utc")
                        .HasDefaultValueSql("CURRENT_TIMESTAMP");

                    b.Property<Guid?>("OwnerCharacterId")
                        .HasColumnType("uuid");

                    b.Property<string>("OwnerPersonaId")
                        .HasMaxLength(256)
                        .HasColumnType("character varying(256)");

                    b.Property<long>("StallId")
                        .HasColumnType("bigint");

                    b.Property<long?>("StallTransactionId")
                        .HasColumnType("bigint")
                        .HasColumnName("stall_transaction_id");

                    b.HasKey("Id");

                    b.HasIndex("StallTransactionId");

                    b.HasIndex("StallId", "OccurredUtc")
                        .HasDatabaseName("player_stall_ledger_entries_idx");

                    b.ToTable("player_stall_ledger_entries", (string)null);
                });

            modelBuilder.Entity("AmiaReforged.PwEngine.Database.Entities.Economy.Shops.PlayerStallMember", b =>
                {
                    b.Property<long>("Id")
                        .ValueGeneratedOnAdd()
                        .HasColumnType("bigint");

                    NpgsqlPropertyBuilderExtensions.UseIdentityByDefaultColumn(b.Property<long>("Id"));

                    b.Property<string>("AddedByPersonaId")
                        .HasMaxLength(256)
                        .HasColumnType("character varying(256)")
                        .HasColumnName("added_by_persona_id");

                    b.Property<DateTime>("AddedUtc")
                        .ValueGeneratedOnAdd()
                        .HasColumnType("timestamp with time zone")
                        .HasColumnName("added_utc")
                        .HasDefaultValueSql("CURRENT_TIMESTAMP");

                    b.Property<bool>("CanCollectEarnings")
                        .ValueGeneratedOnAdd()
                        .HasColumnType("boolean")
                        .HasDefaultValue(false)
                        .HasColumnName("can_collect_earnings");

                    b.Property<bool>("CanConfigureSettings")
                        .ValueGeneratedOnAdd()
                        .HasColumnType("boolean")
                        .HasDefaultValue(false)
                        .HasColumnName("can_configure_settings");

                    b.Property<bool>("CanManageInventory")
                        .ValueGeneratedOnAdd()
                        .HasColumnType("boolean")
                        .HasDefaultValue(false)
                        .HasColumnName("can_manage_inventory");

                    b.Property<string>("DisplayName")
                        .IsRequired()
                        .HasMaxLength(255)
                        .HasColumnType("character varying(255)")
                        .HasColumnName("display_name");

                    b.Property<string>("PersonaId")
                        .IsRequired()
                        .HasMaxLength(256)
                        .HasColumnType("character varying(256)")
                        .HasColumnName("persona_id");

                    b.Property<DateTime?>("RevokedUtc")
                        .HasColumnType("timestamp with time zone")
                        .HasColumnName("revoked_utc");

                    b.Property<long>("StallId")
                        .HasColumnType("bigint");

                    b.HasKey("Id");

                    b.HasIndex("StallId", "PersonaId")
                        .IsUnique()
                        .HasDatabaseName("player_stall_members_unique_idx");

                    b.ToTable("player_stall_members", (string)null);
                });

            modelBuilder.Entity("AmiaReforged.PwEngine.Database.Entities.Economy.Shops.ShopLedgerEntry", b =>
                {
                    b.Property<long>("Id")
                        .ValueGeneratedOnAdd()
                        .HasColumnType("bigint");

                    NpgsqlPropertyBuilderExtensions.UseIdentityByDefaultColumn(b.Property<long>("Id"));

                    b.Property<string>("BuyerName")
                        .HasMaxLength(255)
                        .HasColumnType("character varying(255)")
                        .HasColumnName("buyer_name");

                    b.Property<string>("BuyerPersona")
                        .HasMaxLength(128)
                        .HasColumnType("character varying(128)")
                        .HasColumnName("buyer_persona");

                    b.Property<string>("Notes")
                        .HasColumnType("text")
                        .HasColumnName("notes");

                    b.Property<DateTime>("OccurredAtUtc")
                        .ValueGeneratedOnAdd()
                        .HasColumnType("timestamp with time zone")
                        .HasColumnName("occurred_at_utc")
                        .HasDefaultValueSql("CURRENT_TIMESTAMP");

                    b.Property<int>("Quantity")
                        .HasColumnType("integer")
                        .HasColumnName("quantity");

                    b.Property<string>("ResRef")
                        .HasMaxLength(64)
                        .HasColumnType("character varying(64)")
                        .HasColumnName("resref");

                    b.Property<long>("ShopId")
                        .HasColumnType("bigint")
                        .HasColumnName("shop_id");

                    b.Property<int>("TotalPrice")
                        .HasColumnType("integer")
                        .HasColumnName("total_price");

                    b.Property<int>("UnitPrice")
                        .HasColumnType("integer")
                        .HasColumnName("unit_price");

                    b.HasKey("Id");

                    b.HasIndex("ShopId", "OccurredAtUtc")
                        .HasDatabaseName("npc_shop_ledger_entries_shop_timestamp_idx");

                    b.ToTable("npc_shop_ledger_entries", (string)null);
                });

            modelBuilder.Entity("AmiaReforged.PwEngine.Database.Entities.Economy.Shops.ShopProductRecord", b =>
                {
                    b.Property<long>("Id")
                        .ValueGeneratedOnAdd()
                        .HasColumnType("bigint");

                    NpgsqlPropertyBuilderExtensions.UseIdentityByDefaultColumn(b.Property<long>("Id"));

                    b.Property<string>("AppearanceJson")
                        .HasColumnType("jsonb")
                        .HasColumnName("appearance_json");

                    b.Property<int?>("BaseItemType")
                        .HasColumnType("integer")
                        .HasColumnName("base_item_type");

                    b.Property<DateTime>("CreatedAt")
                        .ValueGeneratedOnAdd()
                        .HasColumnType("timestamp with time zone")
                        .HasColumnName("created_at")
                        .HasDefaultValueSql("CURRENT_TIMESTAMP");

                    b.Property<int>("CurrentStock")
                        .HasColumnType("integer")
                        .HasColumnName("current_stock");

                    b.Property<string>("Description")
                        .HasColumnType("text")
                        .HasColumnName("description");

                    b.Property<string>("DisplayName")
                        .IsRequired()
                        .HasMaxLength(255)
                        .HasColumnType("character varying(255)")
                        .HasColumnName("display_name");

                    b.Property<bool>("IsPlayerManaged")
                        .HasColumnType("boolean")
                        .HasColumnName("is_player_managed");

                    b.Property<string>("ItemTag")
                        .HasMaxLength(64)
                        .HasColumnType("character varying(64)")
                        .HasColumnName("item_tag");

                    b.Property<string>("LocalVariablesJson")
                        .HasColumnType("jsonb")
                        .HasColumnName("locals_json");

                    b.Property<int>("MaxStock")
                        .HasColumnType("integer")
                        .HasColumnName("max_stock");

                    b.Property<int>("Price")
                        .HasColumnType("integer")
                        .HasColumnName("price");

                    b.Property<string>("ResRef")
                        .IsRequired()
                        .HasMaxLength(64)
                        .HasColumnType("character varying(64)")
                        .HasColumnName("resref");

                    b.Property<int>("RestockAmount")
                        .HasColumnType("integer")
                        .HasColumnName("restock_amount");

                    b.Property<long>("ShopId")
                        .HasColumnType("bigint")
                        .HasColumnName("shop_id");

                    b.Property<int>("SortOrder")
                        .HasColumnType("integer")
                        .HasColumnName("sort_order");

                    b.Property<DateTime>("UpdatedAt")
                        .ValueGeneratedOnAdd()
                        .HasColumnType("timestamp with time zone")
                        .HasColumnName("updated_at")
                        .HasDefaultValueSql("CURRENT_TIMESTAMP");

                    b.HasKey("Id");

                    b.HasIndex("ShopId", "ItemTag")
                        .HasDatabaseName("npc_shop_products_shop_itemtag_idx");

                    b.HasIndex("ShopId", "ResRef")
                        .HasDatabaseName("npc_shop_products_shop_resref_idx");

                    b.ToTable("npc_shop_products", (string)null);
                });

            modelBuilder.Entity("AmiaReforged.PwEngine.Database.Entities.Economy.Shops.ShopRecord", b =>
                {
                    b.Property<long>("Id")
                        .ValueGeneratedOnAdd()
                        .HasColumnType("bigint");

                    NpgsqlPropertyBuilderExtensions.UseIdentityByDefaultColumn(b.Property<long>("Id"));

                    b.Property<string>("AcceptedBaseItemTypesJson")
                        .HasColumnType("text")
                        .HasColumnName("accepted_base_item_types");

                    b.Property<DateTime>("CreatedAt")
                        .ValueGeneratedOnAdd()
                        .HasColumnType("timestamp with time zone")
                        .HasColumnName("created_at")
                        .HasDefaultValueSql("CURRENT_TIMESTAMP");

                    b.Property<string>("DefinitionHash")
                        .HasMaxLength(128)
                        .HasColumnType("character varying(128)")
                        .HasColumnName("definition_hash");

                    b.Property<string>("Description")
                        .HasColumnType("text")
                        .HasColumnName("description");

                    b.Property<string>("DisplayName")
                        .IsRequired()
                        .HasMaxLength(255)
                        .HasColumnType("character varying(255)")
                        .HasColumnName("display_name");

                    b.Property<string>("Kind")
                        .IsRequired()
                        .HasMaxLength(32)
                        .HasColumnType("character varying(32)")
                        .HasColumnName("kind");

                    b.Property<bool>("ManualPricing")
                        .HasColumnType("boolean")
                        .HasColumnName("manual_pricing");

                    b.Property<bool>("ManualRestock")
                        .HasColumnType("boolean")
                        .HasColumnName("manual_restock");

                    b.Property<int>("MarkupPercent")
                        .ValueGeneratedOnAdd()
                        .HasColumnType("integer")
                        .HasDefaultValue(0)
                        .HasColumnName("markup_percent");

                    b.Property<DateTime?>("NextRestockUtc")
                        .HasColumnType("timestamp with time zone")
                        .HasColumnName("next_restock_utc");

                    b.Property<Guid?>("OwnerAccountId")
                        .HasColumnType("uuid")
                        .HasColumnName("owner_account_id");

                    b.Property<Guid?>("OwnerCharacterId")
                        .HasColumnType("uuid")
                        .HasColumnName("owner_character_id");

                    b.Property<string>("OwnerDisplayName")
                        .HasMaxLength(255)
                        .HasColumnType("character varying(255)")
                        .HasColumnName("owner_display_name");

                    b.Property<int>("RestockMaxMinutes")
                        .HasColumnType("integer")
                        .HasColumnName("restock_max_minutes");

                    b.Property<int>("RestockMinMinutes")
                        .HasColumnType("integer")
                        .HasColumnName("restock_min_minutes");

                    b.Property<string>("ShopkeeperTag")
                        .IsRequired()
                        .HasMaxLength(255)
                        .HasColumnType("character varying(255)")
                        .HasColumnName("shopkeeper_tag");

                    b.Property<string>("Tag")
                        .IsRequired()
                        .HasMaxLength(128)
                        .HasColumnType("character varying(128)")
                        .HasColumnName("tag");

                    b.Property<DateTime>("UpdatedAt")
                        .ValueGeneratedOnAdd()
                        .HasColumnType("timestamp with time zone")
                        .HasColumnName("updated_at")
                        .HasDefaultValueSql("CURRENT_TIMESTAMP");

                    b.Property<int>("VaultBalance")
                        .HasColumnType("integer")
                        .HasColumnName("vault_balance");

                    b.HasKey("Id");

                    b.HasIndex("OwnerAccountId");

                    b.HasIndex("Tag")
                        .IsUnique()
                        .HasDatabaseName("npc_shops_tag_idx");

                    b.ToTable("npc_shops", (string)null);
                });

            modelBuilder.Entity("AmiaReforged.PwEngine.Database.Entities.Economy.Shops.ShopVaultItem", b =>
                {
                    b.Property<long>("Id")
                        .ValueGeneratedOnAdd()
                        .HasColumnType("bigint");

                    NpgsqlPropertyBuilderExtensions.UseIdentityByDefaultColumn(b.Property<long>("Id"));

                    b.Property<byte[]>("ItemData")
                        .IsRequired()
                        .HasColumnType("bytea")
                        .HasColumnName("item_data");

                    b.Property<string>("ItemName")
                        .HasMaxLength(255)
                        .HasColumnType("character varying(255)")
                        .HasColumnName("item_name");

                    b.Property<int>("Quantity")
                        .HasColumnType("integer")
                        .HasColumnName("quantity");

                    b.Property<string>("ResRef")
                        .HasMaxLength(64)
                        .HasColumnType("character varying(64)")
                        .HasColumnName("resref");

                    b.Property<long>("ShopId")
                        .HasColumnType("bigint")
                        .HasColumnName("shop_id");

                    b.Property<DateTime>("StoredAtUtc")
                        .ValueGeneratedOnAdd()
                        .HasColumnType("timestamp with time zone")
                        .HasColumnName("stored_at_utc")
                        .HasDefaultValueSql("CURRENT_TIMESTAMP");

                    b.HasKey("Id");

                    b.HasIndex("ShopId", "StoredAtUtc")
                        .HasDatabaseName("npc_shop_vault_items_shop_timestamp_idx");

                    b.ToTable("npc_shop_vault_items", (string)null);
                });

            modelBuilder.Entity("AmiaReforged.PwEngine.Database.Entities.Economy.Shops.StallProduct", b =>
                {
                    b.Property<long>("Id")
                        .ValueGeneratedOnAdd()
                        .HasColumnType("bigint");

                    NpgsqlPropertyBuilderExtensions.UseIdentityByDefaultColumn(b.Property<long>("Id"));

                    b.Property<int?>("BaseItemType")
                        .HasColumnType("integer")
                        .HasColumnName("base_item_type");

                    b.Property<string>("ConsignedByDisplayName")
                        .HasMaxLength(255)
                        .HasColumnType("character varying(255)")
                        .HasColumnName("consigned_by_display_name");

                    b.Property<string>("ConsignedByPersonaId")
                        .HasMaxLength(256)
                        .HasColumnType("character varying(256)")
                        .HasColumnName("consigned_by_persona_id");

                    b.Property<string>("Description")
                        .HasColumnType("text")
                        .HasColumnName("description");

                    b.Property<bool>("HasStacks")
                        .HasColumnType("boolean");

                    b.Property<bool>("IsActive")
                        .ValueGeneratedOnAdd()
                        .HasColumnType("boolean")
                        .HasDefaultValue(true)
                        .HasColumnName("is_active");

                    b.Property<byte[]>("ItemData")
                        .IsRequired()
                        .HasColumnType("bytea")
                        .HasColumnName("item_data");

                    b.Property<DateTime>("ListedUtc")
                        .ValueGeneratedOnAdd()
                        .HasColumnType("timestamp with time zone")
                        .HasColumnName("listed_utc")
                        .HasDefaultValueSql("CURRENT_TIMESTAMP");

                    b.Property<string>("Name")
                        .IsRequired()
                        .HasMaxLength(255)
                        .HasColumnType("character varying(255)")
                        .HasColumnName("name");

                    b.Property<string>("Notes")
                        .HasMaxLength(512)
                        .HasColumnType("character varying(512)")
                        .HasColumnName("notes");

                    b.Property<string>("OriginalName")
                        .HasMaxLength(255)
                        .HasColumnType("character varying(255)");

                    b.Property<int>("Price")
                        .HasColumnType("integer")
                        .HasColumnName("price_per_unit");

                    b.Property<int>("Quantity")
                        .HasColumnType("integer")
                        .HasColumnName("quantity");

                    b.Property<string>("ResRef")
                        .IsRequired()
                        .HasMaxLength(64)
                        .HasColumnType("character varying(64)")
                        .HasColumnName("resref");

                    b.Property<DateTime?>("SoldOutUtc")
                        .HasColumnType("timestamp with time zone")
                        .HasColumnName("sold_out_utc");

                    b.Property<int>("SortOrder")
                        .ValueGeneratedOnAdd()
                        .HasColumnType("integer")
                        .HasDefaultValue(0)
                        .HasColumnName("sort_order");

                    b.Property<int?>("StackSize")
                        .HasColumnType("integer");

                    b.Property<long>("StallId")
                        .HasColumnType("bigint")
                        .HasColumnName("stall_id");

                    b.Property<DateTime>("UpdatedUtc")
                        .ValueGeneratedOnAdd()
                        .HasColumnType("timestamp with time zone")
                        .HasColumnName("updated_utc")
                        .HasDefaultValueSql("CURRENT_TIMESTAMP");

                    b.HasKey("Id");

                    b.HasIndex("StallId", "IsActive")
                        .HasDatabaseName("player_stall_products_active_idx");

                    b.ToTable("player_stall_products", (string)null);
                });

            modelBuilder.Entity("AmiaReforged.PwEngine.Database.Entities.Economy.Shops.StallTransaction", b =>
                {
                    b.Property<long>("Id")
                        .ValueGeneratedOnAdd()
                        .HasColumnType("bigint");

                    NpgsqlPropertyBuilderExtensions.UseIdentityByDefaultColumn(b.Property<long>("Id"));

                    b.Property<string>("BuyerDisplayName")
                        .HasMaxLength(255)
                        .HasColumnType("character varying(255)")
                        .HasColumnName("buyer_display_name");

                    b.Property<string>("BuyerPersonaId")
                        .HasMaxLength(256)
                        .HasColumnType("character varying(256)")
                        .HasColumnName("buyer_persona_id");

                    b.Property<long?>("CoinHouseTransactionId")
                        .HasColumnType("bigint")
                        .HasColumnName("coinhouse_transaction_id");

                    b.Property<int>("DepositAmount")
                        .HasColumnType("integer")
                        .HasColumnName("deposit_amount");

                    b.Property<int>("EscrowAmount")
                        .HasColumnType("integer")
                        .HasColumnName("escrow_amount");

                    b.Property<int>("FeeAmount")
                        .HasColumnType("integer")
                        .HasColumnName("fee_amount");

                    b.Property<int>("GrossAmount")
                        .HasColumnType("integer")
                        .HasColumnName("gross_amount");

                    b.Property<string>("Notes")
                        .HasMaxLength(512)
                        .HasColumnType("character varying(512)")
                        .HasColumnName("notes");

                    b.Property<DateTime>("OccurredAtUtc")
                        .ValueGeneratedOnAdd()
                        .HasColumnType("timestamp with time zone")
                        .HasColumnName("occurred_at_utc")
                        .HasDefaultValueSql("CURRENT_TIMESTAMP");

                    b.Property<int>("Quantity")
                        .ValueGeneratedOnAdd()
                        .HasColumnType("integer")
                        .HasDefaultValue(1)
                        .HasColumnName("quantity");

                    b.Property<long>("StallId")
                        .HasColumnType("bigint")
                        .HasColumnName("stall_id");

                    b.Property<long?>("StallProductId")
                        .HasColumnType("bigint")
                        .HasColumnName("stall_product_id");

                    b.HasKey("Id");

                    b.HasIndex("CoinHouseTransactionId");

                    b.HasIndex("StallProductId");

                    b.HasIndex("StallId", "OccurredAtUtc")
                        .HasDatabaseName("player_stall_transactions_idx");

                    b.ToTable("player_stall_transactions", (string)null);
                });

            modelBuilder.Entity("AmiaReforged.PwEngine.Database.Entities.Economy.Transaction", b =>
                {
                    b.Property<long>("Id")
                        .ValueGeneratedOnAdd()
                        .HasColumnType("bigint");

                    NpgsqlPropertyBuilderExtensions.UseIdentityByDefaultColumn(b.Property<long>("Id"));

                    b.Property<int>("Amount")
                        .HasColumnType("integer");

                    b.Property<string>("FromPersonaId")
                        .IsRequired()
                        .HasMaxLength(200)
                        .HasColumnType("character varying(200)");

                    b.Property<string>("Memo")
                        .HasMaxLength(500)
                        .HasColumnType("character varying(500)");

                    b.Property<DateTime>("Timestamp")
                        .HasColumnType("timestamp with time zone");

                    b.Property<string>("ToPersonaId")
                        .IsRequired()
                        .HasMaxLength(200)
                        .HasColumnType("character varying(200)");

                    b.HasKey("Id");

                    b.HasIndex("FromPersonaId");

                    b.HasIndex("Timestamp");

                    b.HasIndex("ToPersonaId");

                    b.ToTable("Transactions", (string)null);
                });

            modelBuilder.Entity("AmiaReforged.PwEngine.Database.Entities.Economy.Treasuries.CoinHouse", b =>
                {
                    b.Property<long>("Id")
                        .ValueGeneratedOnAdd()
                        .HasColumnType("bigint");

                    NpgsqlPropertyBuilderExtensions.UseIdentityByDefaultColumn(b.Property<long>("Id"));

                    b.Property<Guid>("EngineId")
                        .HasColumnType("uuid");

                    b.Property<string>("PersonaIdString")
                        .HasMaxLength(200)
                        .HasColumnType("character varying(200)");

                    b.Property<int>("Settlement")
                        .HasColumnType("integer");

                    b.Property<int>("StoredGold")
                        .HasColumnType("integer");

                    b.Property<string>("Tag")
                        .IsRequired()
                        .HasMaxLength(128)
                        .HasColumnType("character varying(128)");

                    b.HasKey("Id");

                    b.HasIndex("Tag")
                        .IsUnique();

                    b.ToTable("CoinHouses", (string)null);
                });

            modelBuilder.Entity("AmiaReforged.PwEngine.Database.Entities.Economy.Treasuries.CoinHouseAccount", b =>
                {
                    b.Property<Guid>("Id")
                        .ValueGeneratedOnAdd()
                        .HasColumnType("uuid");

                    b.Property<long>("CoinHouseId")
                        .HasColumnType("bigint");

                    b.Property<int>("Credit")
                        .HasColumnType("integer");

                    b.Property<int>("Debit")
                        .HasColumnType("integer");

                    b.Property<DateTime?>("LastAccessedAt")
                        .HasColumnType("timestamp with time zone");

                    b.Property<DateTime>("OpenedAt")
                        .HasColumnType("timestamp with time zone");

                    b.HasKey("Id");

                    b.HasIndex("CoinHouseId");

                    b.ToTable("CoinHouseAccounts", (string)null);
                });

            modelBuilder.Entity("AmiaReforged.PwEngine.Database.Entities.Economy.Treasuries.CoinHouseAccountHolder", b =>
                {
                    b.Property<long>("Id")
                        .ValueGeneratedOnAdd()
                        .HasColumnType("bigint");

                    NpgsqlPropertyBuilderExtensions.UseIdentityByDefaultColumn(b.Property<long>("Id"));

                    b.Property<Guid>("AccountId")
                        .HasColumnType("uuid");

                    b.Property<string>("FirstName")
                        .IsRequired()
                        .HasMaxLength(255)
                        .HasColumnType("character varying(255)");

                    b.Property<Guid>("HolderId")
                        .HasColumnType("uuid");

                    b.Property<string>("LastName")
                        .IsRequired()
                        .HasMaxLength(255)
                        .HasColumnType("character varying(255)");

                    b.Property<int>("Role")
                        .HasColumnType("integer");

                    b.Property<int>("Type")
                        .HasColumnType("integer");

                    b.HasKey("Id");

                    b.HasIndex("AccountId");

                    b.HasIndex("HolderId", "AccountId")
                        .IsUnique();

                    b.ToTable("CoinHouseAccountHolders", (string)null);
                });

            modelBuilder.Entity("AmiaReforged.PwEngine.Database.Entities.Economy.Treasuries.CoinHouseTransaction", b =>
                {
                    b.Property<long>("Id")
                        .ValueGeneratedOnAdd()
                        .HasColumnType("bigint");

                    NpgsqlPropertyBuilderExtensions.UseIdentityByDefaultColumn(b.Property<long>("Id"));

                    b.Property<int>("Amount")
                        .HasColumnType("integer");

                    b.Property<Guid>("CoinHouseAccountId")
                        .HasColumnType("uuid");

                    b.Property<DateTime>("IssuedAt")
                        .HasColumnType("timestamp with time zone");

                    b.Property<Guid>("IssuerId")
                        .HasColumnType("uuid");

                    b.Property<int>("IssuerType")
                        .HasColumnType("integer");

                    b.Property<DateTime?>("ProcessedAt")
                        .HasColumnType("timestamp with time zone");

                    b.HasKey("Id");

                    b.HasIndex("CoinHouseAccountId");

                    b.ToTable("CoinHouseTransactions", (string)null);
                });

            modelBuilder.Entity("AmiaReforged.PwEngine.Database.Entities.Economy.Treasuries.Vault", b =>
                {
                    b.Property<long>("Id")
                        .ValueGeneratedOnAdd()
                        .HasColumnType("bigint");

                    NpgsqlPropertyBuilderExtensions.UseIdentityByDefaultColumn(b.Property<long>("Id"));

                    b.Property<string>("AreaResRef")
                        .IsRequired()
                        .HasMaxLength(64)
                        .HasColumnType("character varying(64)");

                    b.Property<int>("Balance")
                        .HasColumnType("integer");

                    b.Property<DateTime>("CreatedAtUtc")
                        .ValueGeneratedOnAdd()
                        .HasColumnType("timestamp with time zone")
                        .HasColumnName("created_at_utc")
                        .HasDefaultValueSql("CURRENT_TIMESTAMP");

                    b.Property<Guid>("OwnerCharacterId")
                        .HasColumnType("uuid");

                    b.Property<DateTime>("UpdatedAtUtc")
                        .ValueGeneratedOnAdd()
                        .HasColumnType("timestamp with time zone")
                        .HasColumnName("updated_at_utc")
                        .HasDefaultValueSql("CURRENT_TIMESTAMP");

                    b.HasKey("Id");

                    b.HasIndex("OwnerCharacterId", "AreaResRef")
                        .IsUnique();

                    b.ToTable("Vaults", (string)null);
                });

            modelBuilder.Entity("AmiaReforged.PwEngine.Database.Entities.Organization", b =>
                {
                    b.Property<Guid>("Id")
                        .ValueGeneratedOnAdd()
                        .HasColumnType("uuid");

                    b.Property<string>("BanListJson")
                        .IsRequired()
                        .ValueGeneratedOnAdd()
                        .HasColumnType("jsonb")
                        .HasDefaultValue("[]")
                        .HasColumnName("ban_list");

                    b.Property<string>("Description")
                        .HasColumnType("text");

                    b.Property<string>("InboxJson")
                        .IsRequired()
                        .ValueGeneratedOnAdd()
                        .HasColumnType("jsonb")
                        .HasDefaultValue("[]")
                        .HasColumnName("inbox");

                    b.Property<string>("Name")
                        .IsRequired()
                        .HasColumnType("text");

                    b.Property<Guid?>("ParentOrganizationId")
                        .HasColumnType("uuid")
                        .HasColumnName("parent_organization_id");

                    b.Property<string>("PersonaIdString")
                        .HasColumnType("text")
                        .HasColumnName("persona_id");

                    b.Property<int>("Type")
                        .HasColumnType("integer")
                        .HasColumnName("type");

                    b.HasKey("Id");

                    b.HasIndex("ParentOrganizationId")
                        .HasDatabaseName("IX_Organizations_ParentOrganizationId");

                    b.HasIndex("Type")
                        .HasDatabaseName("IX_Organizations_Type");

                    b.ToTable("Organizations", (string)null);
                });

            modelBuilder.Entity("AmiaReforged.PwEngine.Database.Entities.OrganizationMemberRecord", b =>
                {
                    b.Property<Guid>("Id")
                        .ValueGeneratedOnAdd()
                        .HasColumnType("uuid")
                        .HasColumnName("id");

                    b.Property<Guid>("CharacterId")
                        .HasColumnType("uuid")
                        .HasColumnName("character_id");

                    b.Property<DateTime?>("DepartedDate")
                        .HasColumnType("timestamp with time zone")
                        .HasColumnName("departed_date");

                    b.Property<DateTime>("JoinedDate")
                        .HasColumnType("timestamp with time zone")
                        .HasColumnName("joined_date");

                    b.Property<string>("MetadataJson")
                        .IsRequired()
                        .ValueGeneratedOnAdd()
                        .HasColumnType("jsonb")
                        .HasDefaultValue("{}")
                        .HasColumnName("metadata");

                    b.Property<string>("Notes")
                        .HasColumnType("text")
                        .HasColumnName("notes");

                    b.Property<Guid>("OrganizationId")
                        .HasColumnType("uuid")
                        .HasColumnName("organization_id");

                    b.Property<int>("Rank")
                        .HasColumnType("integer")
                        .HasColumnName("rank");

                    b.Property<string>("RolesJson")
                        .IsRequired()
                        .ValueGeneratedOnAdd()
                        .HasColumnType("jsonb")
                        .HasDefaultValue("[]")
                        .HasColumnName("roles");

                    b.Property<int>("Status")
                        .HasColumnType("integer")
                        .HasColumnName("status");

                    b.HasKey("Id");

                    b.HasIndex("CharacterId");

                    b.HasIndex("OrganizationId");

                    b.HasIndex("CharacterId", "OrganizationId")
                        .IsUnique();

                    b.ToTable("organization_members");
                });

            modelBuilder.Entity("AmiaReforged.PwEngine.Database.Entities.PersistedCharacter", b =>
                {
                    b.Property<Guid>("Id")
                        .ValueGeneratedOnAdd()
                        .HasColumnType("uuid");

                    b.Property<string>("CdKey")
                        .IsRequired()
                        .HasMaxLength(8)
                        .HasColumnType("character varying(8)");

                    b.Property<string>("FirstName")
                        .IsRequired()
                        .HasColumnType("text");

                    b.Property<string>("LastName")
                        .IsRequired()
                        .HasColumnType("text");

                    b.Property<string>("PersonaIdString")
                        .HasColumnType("text");

                    b.HasKey("Id");

                    b.ToTable("PersistedCharacter");
                });

            modelBuilder.Entity("AmiaReforged.PwEngine.Database.Entities.PersistentCharacterTrait", b =>
                {
                    b.Property<Guid>("Id")
                        .ValueGeneratedOnAdd()
                        .HasColumnType("uuid");

                    b.Property<Guid>("CharacterId")
                        .HasColumnType("uuid");

                    b.Property<string>("CustomData")
                        .HasColumnType("text");

                    b.Property<DateTime>("DateAcquired")
                        .HasColumnType("timestamp with time zone");

                    b.Property<bool>("IsActive")
                        .HasColumnType("boolean");

                    b.Property<bool>("IsConfirmed")
                        .HasColumnType("boolean");

                    b.Property<bool>("IsUnlocked")
                        .HasColumnType("boolean");

                    b.Property<string>("TraitTag")
                        .IsRequired()
                        .HasColumnType("text");

                    b.HasKey("Id");

                    b.HasIndex("CharacterId");

                    b.ToTable("CharacterTraits");
                });

            modelBuilder.Entity("AmiaReforged.PwEngine.Database.Entities.PersistentObject", b =>
                {
                    b.Property<long>("Id")
                        .ValueGeneratedOnAdd()
                        .HasColumnType("bigint");

                    NpgsqlPropertyBuilderExtensions.UseIdentityByDefaultColumn(b.Property<long>("Id"));

                    b.Property<Guid?>("CharacterId")
                        .HasColumnType("uuid");

                    b.Property<long>("LocationId")
                        .HasColumnType("bigint");

                    b.Property<byte[]>("Serialized")
                        .IsRequired()
                        .HasColumnType("bytea");

                    b.Property<byte[]>("SourceItemData")
                        .HasColumnType("bytea");

                    b.Property<int>("Type")
                        .HasColumnType("integer");

                    b.HasKey("Id");

                    b.HasIndex("LocationId");

                    b.ToTable("PersistentObjects");
                });

            modelBuilder.Entity("AmiaReforged.PwEngine.Database.Entities.PersistentResourceNodeInstance", b =>
                {
                    b.Property<Guid>("Id")
                        .ValueGeneratedOnAdd()
                        .HasColumnType("uuid");

                    b.Property<string>("Area")
                        .IsRequired()
                        .HasColumnType("text");

                    b.Property<string>("DefinitionTag")
                        .IsRequired()
                        .HasColumnType("text");

                    b.Property<int>("Quality")
                        .HasColumnType("integer");

                    b.Property<float>("Rotation")
                        .HasColumnType("real");

                    b.Property<int>("Uses")
                        .HasColumnType("integer");

                    b.Property<float>("X")
                        .HasColumnType("real");

                    b.Property<float>("Y")
                        .HasColumnType("real");

                    b.Property<float>("Z")
                        .HasColumnType("real");

                    b.HasKey("Id");

                    b.ToTable("PersistedNodes");
                });

            modelBuilder.Entity("AmiaReforged.PwEngine.Database.Entities.PlayerHousing.House", b =>
                {
                    b.Property<long>("Id")
                        .ValueGeneratedOnAdd()
                        .HasColumnType("bigint");

                    NpgsqlPropertyBuilderExtensions.UseIdentityByDefaultColumn(b.Property<long>("Id"));

                    b.Property<Guid?>("CharacterId")
                        .HasColumnType("uuid");

                    b.Property<int>("Settlement")
                        .HasColumnType("integer");

                    b.Property<string>("Tag")
                        .IsRequired()
                        .HasColumnType("text");

                    b.HasKey("Id");

                    b.HasIndex("CharacterId");

                    b.ToTable("Houses");
                });

            modelBuilder.Entity("AmiaReforged.PwEngine.Database.Entities.PlayerHousing.PlcLayoutConfiguration", b =>
                {
                    b.Property<long>("Id")
                        .ValueGeneratedOnAdd()
                        .HasColumnType("bigint")
                        .HasColumnName("id");

                    NpgsqlPropertyBuilderExtensions.UseIdentityByDefaultColumn(b.Property<long>("Id"));

                    b.Property<Guid>("CharacterId")
                        .HasColumnType("uuid")
                        .HasColumnName("character_id");

                    b.Property<DateTime>("CreatedUtc")
                        .HasColumnType("timestamp with time zone")
                        .HasColumnName("created_utc");

                    b.Property<string>("Name")
                        .IsRequired()
                        .HasMaxLength(64)
                        .HasColumnType("character varying(64)")
                        .HasColumnName("name");

                    b.Property<Guid>("PropertyId")
                        .HasColumnType("uuid")
                        .HasColumnName("property_id");

                    b.Property<DateTime>("UpdatedUtc")
                        .HasColumnType("timestamp with time zone")
                        .HasColumnName("updated_utc");

                    b.HasKey("Id");

                    b.HasIndex("CharacterId")
                        .HasDatabaseName("plc_layout_configurations_character_idx");

                    b.HasIndex("PropertyId", "CharacterId")
                        .HasDatabaseName("plc_layout_configurations_property_character_idx");

                    b.ToTable("plc_layout_configurations", (string)null);
                });

            modelBuilder.Entity("AmiaReforged.PwEngine.Database.Entities.PlayerHousing.PlcLayoutItem", b =>
                {
                    b.Property<long>("Id")
                        .ValueGeneratedOnAdd()
                        .HasColumnType("bigint")
                        .HasColumnName("id");

                    NpgsqlPropertyBuilderExtensions.UseIdentityByDefaultColumn(b.Property<long>("Id"));

                    b.Property<int>("Appearance")
                        .HasColumnType("integer")
                        .HasColumnName("appearance");

                    b.Property<int>("HealthOverride")
                        .HasColumnType("integer")
                        .HasColumnName("health_override");

                    b.Property<bool>("IsPlot")
                        .HasColumnType("boolean")
                        .HasColumnName("is_plot");

                    b.Property<bool>("IsStatic")
                        .HasColumnType("boolean")
                        .HasColumnName("is_static");

                    b.Property<long>("LayoutConfigurationId")
                        .HasColumnType("bigint")
                        .HasColumnName("layout_configuration_id");

                    b.Property<float>("Orientation")
                        .HasColumnType("real")
                        .HasColumnName("orientation");

                    b.Property<string>("PlcName")
                        .IsRequired()
                        .HasMaxLength(128)
                        .HasColumnType("character varying(128)")
                        .HasColumnName("plc_name");

                    b.Property<string>("PlcResRef")
                        .IsRequired()
                        .HasMaxLength(32)
                        .HasColumnType("character varying(32)")
                        .HasColumnName("plc_resref");

                    b.Property<float>("Scale")
                        .HasColumnType("real")
                        .HasColumnName("scale");

                    b.Property<float>("X")
                        .HasColumnType("real")
                        .HasColumnName("x");

                    b.Property<float>("Y")
                        .HasColumnType("real")
                        .HasColumnName("y");

                    b.Property<float>("Z")
                        .HasColumnType("real")
                        .HasColumnName("z");

                    b.HasKey("Id");

                    b.HasIndex("LayoutConfigurationId")
                        .HasDatabaseName("plc_layout_items_layout_id_idx");

                    b.ToTable("plc_layout_items", (string)null);
                });

            modelBuilder.Entity("AmiaReforged.PwEngine.Database.Entities.PlayerPersonaRecord", b =>
                {
                    b.Property<string>("CdKey")
                        .HasMaxLength(64)
                        .HasColumnType("character varying(64)")
                        .HasColumnName("cd_key");

                    b.Property<DateTime>("CreatedUtc")
                        .ValueGeneratedOnAdd()
                        .HasColumnType("timestamp with time zone")
                        .HasColumnName("created_utc")
                        .HasDefaultValueSql("CURRENT_TIMESTAMP");

                    b.Property<string>("DisplayName")
                        .IsRequired()
                        .HasMaxLength(255)
                        .HasColumnType("character varying(255)")
                        .HasColumnName("display_name");

                    b.Property<DateTime?>("LastSeenUtc")
                        .HasColumnType("timestamp with time zone")
                        .HasColumnName("last_seen_utc");

                    b.Property<string>("PersonaIdString")
                        .HasMaxLength(256)
                        .HasColumnType("character varying(256)")
                        .HasColumnName("persona_id");

                    b.Property<DateTime>("UpdatedUtc")
                        .ValueGeneratedOnAdd()
                        .HasColumnType("timestamp with time zone")
                        .HasColumnName("updated_utc")
                        .HasDefaultValueSql("CURRENT_TIMESTAMP");

                    b.HasKey("CdKey")
                        .HasName("player_personas_pkey");

                    b.HasIndex("PersonaIdString")
                        .IsUnique()
                        .HasDatabaseName("player_personas_persona_id_idx")
                        .HasFilter("persona_id IS NOT NULL");

                    b.ToTable("player_personas", (string)null);
                });

            modelBuilder.Entity("AmiaReforged.PwEngine.Database.Entities.SavedLocation", b =>
                {
                    b.Property<long>("Id")
                        .ValueGeneratedOnAdd()
                        .HasColumnType("bigint");

                    NpgsqlPropertyBuilderExtensions.UseIdentityByDefaultColumn(b.Property<long>("Id"));

                    b.Property<string>("AreaResRef")
                        .IsRequired()
                        .HasMaxLength(16)
                        .HasColumnType("character varying(16)");

                    b.Property<float>("Orientation")
                        .HasColumnType("real");

                    b.Property<float>("X")
                        .HasColumnType("real");

                    b.Property<float>("Y")
                        .HasColumnType("real");

                    b.Property<float>("Z")
                        .HasColumnType("real");

                    b.HasKey("Id");

                    b.ToTable("SavedLocation");
                });

            modelBuilder.Entity("AmiaReforged.PwEngine.Database.Entities.Storage", b =>
                {
                    b.Property<long>("Id")
                        .ValueGeneratedOnAdd()
                        .HasColumnType("bigint");

                    NpgsqlPropertyBuilderExtensions.UseIdentityByDefaultColumn(b.Property<long>("Id"));

                    b.Property<int>("Capacity")
                        .HasColumnType("integer");

                    b.Property<Guid>("EngineId")
                        .HasColumnType("uuid");

                    b.Property<string>("LocationKey")
                        .HasMaxLength(255)
                        .HasColumnType("character varying(255)");

                    b.Property<Guid?>("OwnerId")
                        .HasColumnType("uuid");

                    b.Property<string>("StorageType")
                        .IsRequired()
                        .HasMaxLength(50)
                        .HasColumnType("character varying(50)");

                    b.HasKey("Id");

                    b.ToTable("Warehouses");
                });

            modelBuilder.Entity("AmiaReforged.PwEngine.Database.Entities.StoredItem", b =>
                {
                    b.Property<long>("Id")
                        .ValueGeneratedOnAdd()
                        .HasColumnType("bigint");

                    NpgsqlPropertyBuilderExtensions.UseIdentityByDefaultColumn(b.Property<long>("Id"));

                    b.Property<string>("Description")
                        .HasColumnType("text");

                    b.Property<byte[]>("ItemData")
                        .IsRequired()
                        .HasColumnType("bytea");

                    b.Property<string>("Name")
                        .HasColumnType("text");

                    b.Property<Guid>("Owner")
                        .HasColumnType("uuid");

                    b.Property<long>("WarehouseId")
                        .HasColumnType("bigint");

                    b.HasKey("Id");

                    b.HasIndex("WarehouseId");

                    b.ToTable("WarehouseItems");
                });

            modelBuilder.Entity("AmiaReforged.PwEngine.Database.Entities.WorldConfiguration", b =>
                {
                    b.Property<string>("Key")
                        .HasColumnType("text");

                    b.Property<string>("Value")
                        .IsRequired()
                        .HasColumnType("text");

                    b.Property<string>("ValueType")
                        .IsRequired()
                        .HasColumnType("text");

                    b.HasKey("Key");

                    b.ToTable("WorldConfiguration");
                });

            modelBuilder.Entity("AmiaReforged.PwEngine.Features.Encounters.Models.MiniBossConfig", b =>
                {
                    b.Property<Guid>("Id")
                        .ValueGeneratedOnAdd()
                        .HasColumnType("uuid");

                    b.Property<string>("CreatureResRef")
                        .IsRequired()
                        .HasMaxLength(32)
                        .HasColumnType("character varying(32)")
                        .HasColumnName("creature_resref");

                    b.Property<int>("SpawnChancePercent")
                        .ValueGeneratedOnAdd()
                        .HasColumnType("integer")
                        .HasDefaultValue(5)
                        .HasColumnName("spawn_chance_percent");

                    b.Property<Guid>("SpawnProfileId")
                        .HasColumnType("uuid")
                        .HasColumnName("spawn_profile_id");

                    b.HasKey("Id");

                    b.HasIndex("SpawnProfileId")
                        .IsUnique()
                        .HasDatabaseName("IX_MiniBossConfigs_SpawnProfileId");

                    b.ToTable("MiniBossConfigs", (string)null);
                });

            modelBuilder.Entity("AmiaReforged.PwEngine.Features.Encounters.Models.SpawnBonus", b =>
                {
                    b.Property<Guid>("Id")
                        .ValueGeneratedOnAdd()
                        .HasColumnType("uuid");

                    b.Property<int>("DurationSeconds")
                        .ValueGeneratedOnAdd()
                        .HasColumnType("integer")
                        .HasDefaultValue(0)
                        .HasColumnName("duration_seconds");

                    b.Property<bool>("IsActive")
                        .ValueGeneratedOnAdd()
                        .HasColumnType("boolean")
                        .HasDefaultValue(true)
                        .HasColumnName("is_active");

                    b.Property<Guid?>("MiniBossConfigId")
                        .HasColumnType("uuid")
                        .HasColumnName("mini_boss_config_id");

                    b.Property<string>("Name")
                        .IsRequired()
                        .HasMaxLength(128)
                        .HasColumnType("character varying(128)")
                        .HasColumnName("name");

                    b.Property<Guid?>("SpawnProfileId")
                        .HasColumnType("uuid")
                        .HasColumnName("spawn_profile_id");

                    b.Property<int>("Type")
                        .HasColumnType("integer")
                        .HasColumnName("type");

                    b.Property<int>("Value")
                        .HasColumnType("integer")
                        .HasColumnName("value");

                    b.HasKey("Id");

                    b.HasIndex("MiniBossConfigId")
                        .HasDatabaseName("IX_SpawnBonuses_MiniBossConfigId");

                    b.HasIndex("SpawnProfileId")
                        .HasDatabaseName("IX_SpawnBonuses_SpawnProfileId");

                    b.ToTable("SpawnBonuses", (string)null);
                });

            modelBuilder.Entity("AmiaReforged.PwEngine.Features.Encounters.Models.SpawnCondition", b =>
                {
                    b.Property<Guid>("Id")
                        .ValueGeneratedOnAdd()
                        .HasColumnType("uuid");

                    b.Property<string>("Operator")
                        .IsRequired()
                        .HasMaxLength(16)
                        .HasColumnType("character varying(16)")
                        .HasColumnName("operator");

                    b.Property<Guid>("SpawnGroupId")
                        .HasColumnType("uuid")
                        .HasColumnName("spawn_group_id");

                    b.Property<int>("Type")
                        .HasColumnType("integer")
                        .HasColumnName("type");

                    b.Property<string>("Value")
                        .IsRequired()
                        .HasMaxLength(256)
                        .HasColumnType("character varying(256)")
                        .HasColumnName("value");

                    b.HasKey("Id");

                    b.HasIndex("SpawnGroupId")
                        .HasDatabaseName("IX_SpawnConditions_SpawnGroupId");

                    b.ToTable("SpawnConditions", (string)null);
                });

            modelBuilder.Entity("AmiaReforged.PwEngine.Features.Encounters.Models.SpawnEntry", b =>
                {
                    b.Property<Guid>("Id")
                        .ValueGeneratedOnAdd()
                        .HasColumnType("uuid");

                    b.Property<string>("CreatureResRef")
                        .IsRequired()
                        .HasMaxLength(32)
                        .HasColumnType("character varying(32)")
                        .HasColumnName("creature_resref");

                    b.Property<int>("MaxCount")
                        .ValueGeneratedOnAdd()
                        .HasColumnType("integer")
                        .HasDefaultValue(4)
                        .HasColumnName("max_count");

                    b.Property<int>("MinCount")
                        .ValueGeneratedOnAdd()
                        .HasColumnType("integer")
                        .HasDefaultValue(1)
                        .HasColumnName("min_count");

                    b.Property<int>("RelativeWeight")
                        .ValueGeneratedOnAdd()
                        .HasColumnType("integer")
                        .HasDefaultValue(1)
                        .HasColumnName("relative_weight");

                    b.Property<Guid>("SpawnGroupId")
                        .HasColumnType("uuid")
                        .HasColumnName("spawn_group_id");

                    b.HasKey("Id");

                    b.HasIndex("SpawnGroupId")
                        .HasDatabaseName("IX_SpawnEntries_SpawnGroupId");

                    b.ToTable("SpawnEntries", (string)null);
                });

            modelBuilder.Entity("AmiaReforged.PwEngine.Features.Encounters.Models.SpawnGroup", b =>
                {
                    b.Property<Guid>("Id")
                        .ValueGeneratedOnAdd()
                        .HasColumnType("uuid");

                    b.Property<string>("Name")
                        .IsRequired()
                        .HasMaxLength(128)
                        .HasColumnType("character varying(128)")
                        .HasColumnName("name");

                    b.Property<Guid>("SpawnProfileId")
                        .HasColumnType("uuid")
                        .HasColumnName("spawn_profile_id");

                    b.Property<int>("Weight")
                        .ValueGeneratedOnAdd()
                        .HasColumnType("integer")
                        .HasDefaultValue(1)
                        .HasColumnName("weight");

                    b.HasKey("Id");

                    b.HasIndex("SpawnProfileId")
                        .HasDatabaseName("IX_SpawnGroups_SpawnProfileId");

                    b.ToTable("SpawnGroups", (string)null);
                });

            modelBuilder.Entity("AmiaReforged.PwEngine.Features.Encounters.Models.SpawnProfile", b =>
                {
                    b.Property<Guid>("Id")
                        .ValueGeneratedOnAdd()
                        .HasColumnType("uuid");

                    b.Property<string>("AreaResRef")
                        .IsRequired()
                        .HasMaxLength(32)
                        .HasColumnType("character varying(32)")
                        .HasColumnName("area_resref");

                    b.Property<int>("CooldownSeconds")
                        .ValueGeneratedOnAdd()
                        .HasColumnType("integer")
                        .HasDefaultValue(900)
                        .HasColumnName("cooldown_seconds");

                    b.Property<DateTime>("CreatedAt")
                        .HasColumnType("timestamp with time zone")
                        .HasColumnName("created_at");

                    b.Property<int>("DespawnSeconds")
                        .ValueGeneratedOnAdd()
                        .HasColumnType("integer")
                        .HasDefaultValue(600)
                        .HasColumnName("despawn_seconds");

                    b.Property<bool>("IsActive")
                        .ValueGeneratedOnAdd()
                        .HasColumnType("boolean")
                        .HasDefaultValue(false)
                        .HasColumnName("is_active");

                    b.Property<string>("Name")
                        .IsRequired()
                        .HasMaxLength(128)
                        .HasColumnType("character varying(128)")
                        .HasColumnName("name");

                    b.Property<DateTime>("UpdatedAt")
                        .HasColumnType("timestamp with time zone")
                        .HasColumnName("updated_at");

                    b.HasKey("Id");

                    b.HasIndex("AreaResRef")
                        .IsUnique()
                        .HasDatabaseName("IX_SpawnProfiles_AreaResRef");

                    b.ToTable("SpawnProfiles", (string)null);
                });

            modelBuilder.Entity("AmiaReforged.PwEngine.Features.WorldEngine.Subsystems.Characters.CharacterData.CharacterStatistics", b =>
                {
                    b.Property<Guid>("Id")
                        .HasColumnType("uuid");

                    b.Property<Guid>("CharacterId")
                        .HasColumnType("uuid");

                    b.Property<int>("IndustriesJoined")
                        .HasColumnType("integer");

                    b.Property<int>("KnowledgePoints")
                        .HasColumnType("integer");

                    b.Property<int>("PlayTime")
                        .HasColumnType("integer");

                    b.Property<int>("TimesDied")
                        .HasColumnType("integer");

                    b.Property<int>("TimesRankedUp")
                        .HasColumnType("integer");

                    b.HasKey("Id");

                    b.HasIndex("CharacterId")
                        .IsUnique();

                    b.ToTable("CharacterStatistics", (string)null);
                });

            modelBuilder.Entity("AmiaReforged.PwEngine.Database.Entities.Admin.RebuildItemRecord", b =>
                {
                    b.HasOne("AmiaReforged.PwEngine.Database.Entities.Admin.CharacterRebuild", "CharacterRebuild")
                        .WithMany()
                        .HasForeignKey("CharacterRebuildId")
                        .OnDelete(DeleteBehavior.Cascade)
                        .IsRequired();

                    b.Navigation("CharacterRebuild");
                });

            modelBuilder.Entity("AmiaReforged.PwEngine.Database.Entities.Economy.PersistentCharacterKnowledge", b =>
                {
                    b.HasOne("AmiaReforged.PwEngine.Database.Entities.PersistedCharacter", "Character")
                        .WithMany()
                        .HasForeignKey("CharacterId")
                        .OnDelete(DeleteBehavior.Cascade)
                        .IsRequired();

                    b.HasOne("AmiaReforged.PwEngine.Database.Entities.Economy.PersistentIndustryMembership", null)
                        .WithMany("Knowledge")
                        .HasForeignKey("PersistentIndustryMembershipId");

                    b.Navigation("Character");
                });

            modelBuilder.Entity("AmiaReforged.PwEngine.Database.Entities.Economy.PersistentIndustryMembership", b =>
                {
                    b.HasOne("AmiaReforged.PwEngine.Database.Entities.PersistedCharacter", "Character")
                        .WithMany("Memberships")
                        .HasForeignKey("CharacterId")
                        .OnDelete(DeleteBehavior.Cascade)
                        .IsRequired();

                    b.Navigation("Character");
                });

            modelBuilder.Entity("AmiaReforged.PwEngine.Database.Entities.Economy.Properties.RentablePropertyResidentRecord", b =>
                {
                    b.HasOne("AmiaReforged.PwEngine.Database.Entities.Economy.Properties.RentablePropertyRecord", "Property")
                        .WithMany("Residents")
                        .HasForeignKey("PropertyId")
                        .OnDelete(DeleteBehavior.Cascade)
                        .IsRequired();

                    b.Navigation("Property");
                });

            modelBuilder.Entity("AmiaReforged.PwEngine.Database.Entities.Economy.Shops.PlayerStall", b =>
                {
                    b.HasOne("AmiaReforged.PwEngine.Database.Entities.Economy.Treasuries.CoinHouseAccount", "CoinHouseAccount")
                        .WithMany()
                        .HasForeignKey("CoinHouseAccountId");

                    b.Navigation("CoinHouseAccount");
                });

            modelBuilder.Entity("AmiaReforged.PwEngine.Database.Entities.Economy.Shops.PlayerStallLedgerEntry", b =>
                {
                    b.HasOne("AmiaReforged.PwEngine.Database.Entities.Economy.Shops.PlayerStall", "Stall")
                        .WithMany("LedgerEntries")
                        .HasForeignKey("StallId")
                        .OnDelete(DeleteBehavior.Cascade)
                        .IsRequired();

                    b.HasOne("AmiaReforged.PwEngine.Database.Entities.Economy.Shops.StallTransaction", "Transaction")
                        .WithMany()
                        .HasForeignKey("StallTransactionId");

                    b.Navigation("Stall");

                    b.Navigation("Transaction");
                });

            modelBuilder.Entity("AmiaReforged.PwEngine.Database.Entities.Economy.Shops.PlayerStallMember", b =>
                {
                    b.HasOne("AmiaReforged.PwEngine.Database.Entities.Economy.Shops.PlayerStall", "Stall")
                        .WithMany("Members")
                        .HasForeignKey("StallId")
                        .OnDelete(DeleteBehavior.Cascade)
                        .IsRequired();

                    b.Navigation("Stall");
                });

            modelBuilder.Entity("AmiaReforged.PwEngine.Database.Entities.Economy.Shops.ShopLedgerEntry", b =>
                {
                    b.HasOne("AmiaReforged.PwEngine.Database.Entities.Economy.Shops.ShopRecord", "Shop")
                        .WithMany("LedgerEntries")
                        .HasForeignKey("ShopId")
                        .OnDelete(DeleteBehavior.Cascade)
                        .IsRequired();

                    b.Navigation("Shop");
                });

            modelBuilder.Entity("AmiaReforged.PwEngine.Database.Entities.Economy.Shops.ShopProductRecord", b =>
                {
                    b.HasOne("AmiaReforged.PwEngine.Database.Entities.Economy.Shops.ShopRecord", "Shop")
                        .WithMany("Products")
                        .HasForeignKey("ShopId")
                        .OnDelete(DeleteBehavior.Cascade)
                        .IsRequired();

                    b.Navigation("Shop");
                });

            modelBuilder.Entity("AmiaReforged.PwEngine.Database.Entities.Economy.Shops.ShopRecord", b =>
                {
                    b.HasOne("AmiaReforged.PwEngine.Database.Entities.Economy.Treasuries.CoinHouseAccount", "OwnerAccount")
                        .WithMany()
                        .HasForeignKey("OwnerAccountId");

                    b.Navigation("OwnerAccount");
                });

            modelBuilder.Entity("AmiaReforged.PwEngine.Database.Entities.Economy.Shops.ShopVaultItem", b =>
                {
                    b.HasOne("AmiaReforged.PwEngine.Database.Entities.Economy.Shops.ShopRecord", "Shop")
                        .WithMany("VaultItems")
                        .HasForeignKey("ShopId")
                        .OnDelete(DeleteBehavior.Cascade)
                        .IsRequired();

                    b.Navigation("Shop");
                });

            modelBuilder.Entity("AmiaReforged.PwEngine.Database.Entities.Economy.Shops.StallProduct", b =>
                {
                    b.HasOne("AmiaReforged.PwEngine.Database.Entities.Economy.Shops.PlayerStall", "Stall")
                        .WithMany("Inventory")
                        .HasForeignKey("StallId")
                        .OnDelete(DeleteBehavior.Cascade)
                        .IsRequired();

                    b.Navigation("Stall");
                });

            modelBuilder.Entity("AmiaReforged.PwEngine.Database.Entities.Economy.Shops.StallTransaction", b =>
                {
                    b.HasOne("AmiaReforged.PwEngine.Database.Entities.Economy.Treasuries.CoinHouseTransaction", "CoinHouseTransaction")
                        .WithMany()
                        .HasForeignKey("CoinHouseTransactionId");

                    b.HasOne("AmiaReforged.PwEngine.Database.Entities.Economy.Shops.PlayerStall", "Stall")
                        .WithMany("Transactions")
                        .HasForeignKey("StallId")
                        .OnDelete(DeleteBehavior.Cascade)
                        .IsRequired();

                    b.HasOne("AmiaReforged.PwEngine.Database.Entities.Economy.Shops.StallProduct", "Product")
                        .WithMany()
                        .HasForeignKey("StallProductId");

                    b.Navigation("CoinHouseTransaction");

                    b.Navigation("Product");

                    b.Navigation("Stall");
                });

            modelBuilder.Entity("AmiaReforged.PwEngine.Database.Entities.Economy.Treasuries.CoinHouseAccount", b =>
                {
                    b.HasOne("AmiaReforged.PwEngine.Database.Entities.Economy.Treasuries.CoinHouse", "CoinHouse")
                        .WithMany("Accounts")
                        .HasForeignKey("CoinHouseId")
                        .OnDelete(DeleteBehavior.Cascade)
                        .IsRequired();

                    b.Navigation("CoinHouse");
                });

            modelBuilder.Entity("AmiaReforged.PwEngine.Database.Entities.Economy.Treasuries.CoinHouseAccountHolder", b =>
                {
                    b.HasOne("AmiaReforged.PwEngine.Database.Entities.Economy.Treasuries.CoinHouseAccount", "Account")
                        .WithMany("AccountHolders")
                        .HasForeignKey("AccountId")
                        .OnDelete(DeleteBehavior.Cascade)
                        .IsRequired();

                    b.Navigation("Account");
                });

            modelBuilder.Entity("AmiaReforged.PwEngine.Database.Entities.Economy.Treasuries.CoinHouseTransaction", b =>
                {
                    b.HasOne("AmiaReforged.PwEngine.Database.Entities.Economy.Treasuries.CoinHouseAccount", "CoinHouseAccount")
                        .WithMany("Receipts")
                        .HasForeignKey("CoinHouseAccountId")
                        .OnDelete(DeleteBehavior.Cascade)
                        .IsRequired();

                    b.Navigation("CoinHouseAccount");
                });

            modelBuilder.Entity("AmiaReforged.PwEngine.Database.Entities.PersistentCharacterTrait", b =>
                {
                    b.HasOne("AmiaReforged.PwEngine.Database.Entities.PersistedCharacter", "Character")
                        .WithMany()
                        .HasForeignKey("CharacterId")
                        .OnDelete(DeleteBehavior.Cascade)
                        .IsRequired();

                    b.Navigation("Character");
                });

            modelBuilder.Entity("AmiaReforged.PwEngine.Database.Entities.PersistentObject", b =>
                {
                    b.HasOne("AmiaReforged.PwEngine.Database.Entities.SavedLocation", "Location")
                        .WithMany()
                        .HasForeignKey("LocationId")
                        .OnDelete(DeleteBehavior.Cascade)
                        .IsRequired();

                    b.Navigation("Location");
                });

            modelBuilder.Entity("AmiaReforged.PwEngine.Database.Entities.PlayerHousing.House", b =>
                {
                    b.HasOne("AmiaReforged.PwEngine.Database.Entities.PersistedCharacter", "Character")
                        .WithMany()
                        .HasForeignKey("CharacterId");

                    b.Navigation("Character");
                });

            modelBuilder.Entity("AmiaReforged.PwEngine.Database.Entities.PlayerHousing.PlcLayoutItem", b =>
                {
                    b.HasOne("AmiaReforged.PwEngine.Database.Entities.PlayerHousing.PlcLayoutConfiguration", "LayoutConfiguration")
                        .WithMany("Items")
                        .HasForeignKey("LayoutConfigurationId")
                        .OnDelete(DeleteBehavior.Cascade)
                        .IsRequired();

                    b.Navigation("LayoutConfiguration");
                });

            modelBuilder.Entity("AmiaReforged.PwEngine.Database.Entities.StoredItem", b =>
                {
                    b.HasOne("AmiaReforged.PwEngine.Database.Entities.Storage", "Warehouse")
                        .WithMany("Items")
                        .HasForeignKey("WarehouseId")
                        .OnDelete(DeleteBehavior.Cascade)
                        .IsRequired();

                    b.Navigation("Warehouse");
                });

            modelBuilder.Entity("AmiaReforged.PwEngine.Features.Encounters.Models.MiniBossConfig", b =>
                {
                    b.HasOne("AmiaReforged.PwEngine.Features.Encounters.Models.SpawnProfile", "SpawnProfile")
                        .WithOne("MiniBoss")
                        .HasForeignKey("AmiaReforged.PwEngine.Features.Encounters.Models.MiniBossConfig", "SpawnProfileId")
                        .OnDelete(DeleteBehavior.Cascade)
                        .IsRequired();

                    b.Navigation("SpawnProfile");
                });

            modelBuilder.Entity("AmiaReforged.PwEngine.Features.Encounters.Models.SpawnBonus", b =>
                {
                    b.HasOne("AmiaReforged.PwEngine.Features.Encounters.Models.MiniBossConfig", "MiniBossConfig")
                        .WithMany("Bonuses")
                        .HasForeignKey("MiniBossConfigId")
                        .OnDelete(DeleteBehavior.Cascade);

                    b.HasOne("AmiaReforged.PwEngine.Features.Encounters.Models.SpawnProfile", "SpawnProfile")
                        .WithMany("Bonuses")
                        .HasForeignKey("SpawnProfileId")
                        .OnDelete(DeleteBehavior.Cascade);

                    b.Navigation("MiniBossConfig");

                    b.Navigation("SpawnProfile");
                });

            modelBuilder.Entity("AmiaReforged.PwEngine.Features.Encounters.Models.SpawnCondition", b =>
                {
                    b.HasOne("AmiaReforged.PwEngine.Features.Encounters.Models.SpawnGroup", "SpawnGroup")
                        .WithMany("Conditions")
                        .HasForeignKey("SpawnGroupId")
                        .OnDelete(DeleteBehavior.Cascade)
                        .IsRequired();

                    b.Navigation("SpawnGroup");
                });

            modelBuilder.Entity("AmiaReforged.PwEngine.Features.Encounters.Models.SpawnEntry", b =>
                {
                    b.HasOne("AmiaReforged.PwEngine.Features.Encounters.Models.SpawnGroup", "SpawnGroup")
                        .WithMany("Entries")
                        .HasForeignKey("SpawnGroupId")
                        .OnDelete(DeleteBehavior.Cascade)
                        .IsRequired();

                    b.Navigation("SpawnGroup");
                });

            modelBuilder.Entity("AmiaReforged.PwEngine.Features.Encounters.Models.SpawnGroup", b =>
                {
                    b.HasOne("AmiaReforged.PwEngine.Features.Encounters.Models.SpawnProfile", "SpawnProfile")
                        .WithMany("SpawnGroups")
                        .HasForeignKey("SpawnProfileId")
                        .OnDelete(DeleteBehavior.Cascade)
                        .IsRequired();

                    b.Navigation("SpawnProfile");
                });

            modelBuilder.Entity("AmiaReforged.PwEngine.Features.WorldEngine.Subsystems.Characters.CharacterData.CharacterStatistics", b =>
                {
                    b.HasOne("AmiaReforged.PwEngine.Database.Entities.PersistedCharacter", null)
                        .WithOne("Statistics")
                        .HasForeignKey("AmiaReforged.PwEngine.Features.WorldEngine.Subsystems.Characters.CharacterData.CharacterStatistics", "CharacterId")
                        .OnDelete(DeleteBehavior.Cascade)
                        .IsRequired();
                });

            modelBuilder.Entity("AmiaReforged.PwEngine.Database.Entities.Economy.PersistentIndustryMembership", b =>
                {
                    b.Navigation("Knowledge");
                });

            modelBuilder.Entity("AmiaReforged.PwEngine.Database.Entities.Economy.Properties.RentablePropertyRecord", b =>
                {
                    b.Navigation("Residents");
                });

            modelBuilder.Entity("AmiaReforged.PwEngine.Database.Entities.Economy.Shops.PlayerStall", b =>
                {
                    b.Navigation("Inventory");

                    b.Navigation("LedgerEntries");

                    b.Navigation("Members");

                    b.Navigation("Transactions");
                });

            modelBuilder.Entity("AmiaReforged.PwEngine.Database.Entities.Economy.Shops.ShopRecord", b =>
                {
                    b.Navigation("LedgerEntries");

                    b.Navigation("Products");

                    b.Navigation("VaultItems");
                });

            modelBuilder.Entity("AmiaReforged.PwEngine.Database.Entities.Economy.Treasuries.CoinHouse", b =>
                {
                    b.Navigation("Accounts");
                });

            modelBuilder.Entity("AmiaReforged.PwEngine.Database.Entities.Economy.Treasuries.CoinHouseAccount", b =>
                {
                    b.Navigation("AccountHolders");

                    b.Navigation("Receipts");
                });

            modelBuilder.Entity("AmiaReforged.PwEngine.Database.Entities.PersistedCharacter", b =>
                {
                    b.Navigation("Memberships");

                    b.Navigation("Statistics");
                });

            modelBuilder.Entity("AmiaReforged.PwEngine.Database.Entities.PlayerHousing.PlcLayoutConfiguration", b =>
                {
                    b.Navigation("Items");
                });

            modelBuilder.Entity("AmiaReforged.PwEngine.Database.Entities.Storage", b =>
                {
                    b.Navigation("Items");
                });

            modelBuilder.Entity("AmiaReforged.PwEngine.Features.Encounters.Models.MiniBossConfig", b =>
                {
                    b.Navigation("Bonuses");
                });

            modelBuilder.Entity("AmiaReforged.PwEngine.Features.Encounters.Models.SpawnGroup", b =>
                {
                    b.Navigation("Conditions");

                    b.Navigation("Entries");
                });

            modelBuilder.Entity("AmiaReforged.PwEngine.Features.Encounters.Models.SpawnProfile", b =>
                {
                    b.Navigation("Bonuses");

                    b.Navigation("MiniBoss");

                    b.Navigation("SpawnGroups");
                });
#pragma warning restore 612, 618
        }
    }
}
