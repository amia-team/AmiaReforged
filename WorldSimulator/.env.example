# === PostgreSQL Database Configuration ===
POSTGRES_DB=worldsimulator
POSTGRES_USER=worldsim
POSTGRES_PASSWORD=CHANGE_ME_IN_PRODUCTION

# Host and port can be used to assemble the connection string if not provided above
POSTGRES_HOST=postgres
POSTGRES_PORT=5432

# Connection string used by the application (ASP.NET style: double underscore maps to ':')
# Host should be the service name 'postgres' when using docker-compose default network
ConnectionStrings__DefaultConnection=Host=postgres;Database=worldsimulator;Username=worldsim;Password=CHANGE_ME_IN_PRODUCTION

# (Optional) Duplicate for external tools/scripts; the app reads the ASP.NET-style key above
POSTGRES_CONNECTION_STRING=Host=postgres;Database=worldsimulator;Username=worldsim;Password=CHANGE_ME_IN_PRODUCTION

# === WorldSimulator Runtime Options ===
# Set to 'true' to skip DB EnsureCreated on container startup
WORLD_SIMULATOR_SKIP_DB_INIT=false
DOTNET_ENVIRONMENT=Production

# === Logging Configuration (Serilog) ===
# Minimum log level globally (Debug to see all messages, Information for normal)
Serilog__MinimumLevel__Default=Information

# Suppress noisy framework logs
Serilog__MinimumLevel__Override__Microsoft=Warning
Serilog__MinimumLevel__Override__System=Warning
Serilog__MinimumLevel__Override__Microsoft.EntityFrameworkCore=Warning

# WorldSimulator specific (set to Debug to see detailed simulation logs)
Serilog__MinimumLevel__Override__WorldSimulator=Information

# PwEngine client (set to Debug to see connection details)
Serilog__MinimumLevel__Override__WorldSimulator.Infrastructure.PwEngineClient=Warning

# === PwEngine API Configuration (ASP.NET style keys) ===
PwEngine__BaseUrl=http://pwengine:8080/api/worldengine/
PwEngine__ApiKey=CHANGE_ME_IN_PRODUCTION
PwEngine__Timeout=30

# Retry policy
PwEngine__Retry__MaxAttempts=3

# Circuit breaker
PwEngine__CircuitBreaker__FailuresBeforeOpening=5
PwEngine__CircuitBreaker__DurationOfBreakSeconds=30
